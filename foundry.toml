[profile.default]

# --- CORE PATHS ---
# Standardized project hierarchy for robust source management
src     = "src"
out     = "out"
test    = "test"
script  = "scripts"
libs    = ["lib"]

# --- COMPILER SETTINGS ---
# Optimized for EIP-4844 (Cancun) to ensure high-efficiency execution
solc_version   = "0.8.33"
via_ir         = true
optimizer      = true
optimizer_runs = 1000
evm_version    = "cancun"

# --- LIBRARY & PROJECT REMAPPINGS ---
# Unified path resolution for internal and external dependencies.
# Absolute paths have been replaced with relative project paths to ensure portability.
remappings = [
    # OpenZeppelin v5.5.0 Upgradeable & Standard implementations
    "@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/",
    "@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/",
    
    # Internal Protocol Modules
    "@core/=src/core/",
    "@libraries/=src/libraries/",
    "@interfaces/=src/interfaces/",
    
    # Standard Development Frameworks
    "forge-std/=lib/forge-std/src/",
    "ds-test/=lib/forge-std/lib/ds-test/src/"
]

# --- DOCUMENTATION GENERATION ---
# Configuration for 'forge doc' to maintain academic documentation standards
[doc]
out    = "docs"
title  = "AOXC DAO Protocol Documentation"
book   = "book.toml"
ignore = ["test/**", "scripts/**", "lib/**"]

# --- ADVANCED TESTING ---
# Property-based testing (Fuzzing) configuration for formal verification
[fuzz]
runs = 10_000

# --- FORMATTING ---
# Consistent style guide for academic-grade code quality
[fmt]
line_length = 100
tab_width   = 4
bracket_spacing = true

# --- NETWORK INFRASTRUCTURE ---
[rpc_endpoints]
xlayer_mainnet = "https://rpc.xlayer.okx.com"
xlayer_testnet = "https://testrpc.xlayer.okx.com"
